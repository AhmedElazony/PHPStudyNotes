<?php











namespace Composer;

use Composer\Autoload\ClassLoader;
use Composer\Semver\VersionParser;






class InstalledVersions
{
private static $installed = array (
  'root' => 
  array (
    'pretty_version' => '1.0.0+no-version-set',
    'version' => '1.0.0.0',
    'aliases' => 
    array (
    ),
    'reference' => NULL,
    'name' => 'ahmed/demo',
  ),
  'versions' => 
  array (
    'ahmed/demo' => 
    array (
      'pretty_version' => '1.0.0+no-version-set',
      'version' => '1.0.0.0',
      'aliases' => 
      array (
      ),
      'reference' => NULL,
    ),
    'brianium/paratest' => 
    array (
      'pretty_version' => 'v7.1.4',
      'version' => '7.1.4.0',
      'aliases' => 
      array (
      ),
      'reference' => '153e68eb9e697baa3acf1db1d8ae1d1eb19fb816',
    ),
    'doctrine/deprecations' => 
    array (
      'pretty_version' => 'v1.0.0',
      'version' => '1.0.0.0',
      'aliases' => 
      array (
      ),
      'reference' => '0e2a4f1f8cdfc7a92ec3b01c9334898c806b30de',
    ),
    'fidry/cpu-core-counter' => 
    array (
      'pretty_version' => '0.5.1',
      'version' => '0.5.1.0',
      'aliases' => 
      array (
      ),
      'reference' => 'b58e5a3933e541dc286cc91fc4f3898bbc6f1623',
    ),
    'filp/whoops' => 
    array (
      'pretty_version' => '2.15.2',
      'version' => '2.15.2.0',
      'aliases' => 
      array (
      ),
      'reference' => 'aac9304c5ed61bf7b1b7a6064bf9806ab842ce73',
    ),
    'illuminate/collections' => 
    array (
      'pretty_version' => 'v10.9.0',
      'version' => '10.9.0.0',
      'aliases' => 
      array (
      ),
      'reference' => '0404a7d44788a43115030d45e9b2c9e1e011d0eb',
    ),
    'illuminate/conditionable' => 
    array (
      'pretty_version' => 'v10.9.0',
      'version' => '10.9.0.0',
      'aliases' => 
      array (
      ),
      'reference' => 'd0958e4741fc9d6f516a552060fd1b829a85e009',
    ),
    'illuminate/contracts' => 
    array (
      'pretty_version' => 'v10.9.0',
      'version' => '10.9.0.0',
      'aliases' => 
      array (
      ),
      'reference' => 'df6cb22937345609dbd42ef9f9cc62bf9f20104f',
    ),
    'illuminate/macroable' => 
    array (
      'pretty_version' => 'v10.9.0',
      'version' => '10.9.0.0',
      'aliases' => 
      array (
      ),
      'reference' => '6b80109438161d45a5f2bdf7ecdd56cbd0096c3d',
    ),
    'jean85/pretty-package-versions' => 
    array (
      'pretty_version' => '2.0.5',
      'version' => '2.0.5.0',
      'aliases' => 
      array (
      ),
      'reference' => 'ae547e455a3d8babd07b96966b17d7fd21d9c6af',
    ),
    'myclabs/deep-copy' => 
    array (
      'pretty_version' => '1.11.1',
      'version' => '1.11.1.0',
      'aliases' => 
      array (
      ),
      'reference' => '7284c22080590fb39f2ffa3e9057f10a4ddd0e0c',
    ),
    'nikic/php-parser' => 
    array (
      'pretty_version' => 'v4.15.4',
      'version' => '4.15.4.0',
      'aliases' => 
      array (
      ),
      'reference' => '6bb5176bc4af8bcb7d926f88718db9b96a2d4290',
    ),
    'nunomaduro/collision' => 
    array (
      'pretty_version' => 'v7.5.2',
      'version' => '7.5.2.0',
      'aliases' => 
      array (
      ),
      'reference' => '76b3cabda0aabda455fc3b9db6c3615f5a87c7ff',
    ),
    'nunomaduro/termwind' => 
    array (
      'pretty_version' => 'v1.15.1',
      'version' => '1.15.1.0',
      'aliases' => 
      array (
      ),
      'reference' => '8ab0b32c8caa4a2e09700ea32925441385e4a5dc',
    ),
    'pestphp/pest' => 
    array (
      'pretty_version' => 'v2.6.0',
      'version' => '2.6.0.0',
      'aliases' => 
      array (
      ),
      'reference' => 'a34767fa15abd098c763db605fd0fc72665b7f69',
    ),
    'pestphp/pest-plugin' => 
    array (
      'pretty_version' => 'v2.0.1',
      'version' => '2.0.1.0',
      'aliases' => 
      array (
      ),
      'reference' => 'e3a3da262b73bdcbf3fad4dc9846c3c4921f2147',
    ),
    'pestphp/pest-plugin-arch' => 
    array (
      'pretty_version' => 'v2.1.2',
      'version' => '2.1.2.0',
      'aliases' => 
      array (
      ),
      'reference' => '485cbfbe2e194e9cfd8284625bd8922c9d27ac6f',
    ),
    'phar-io/manifest' => 
    array (
      'pretty_version' => '2.0.3',
      'version' => '2.0.3.0',
      'aliases' => 
      array (
      ),
      'reference' => '97803eca37d319dfa7826cc2437fc020857acb53',
    ),
    'phar-io/version' => 
    array (
      'pretty_version' => '3.2.1',
      'version' => '3.2.1.0',
      'aliases' => 
      array (
      ),
      'reference' => '4f7fd7836c6f332bb2933569e566a0d6c4cbed74',
    ),
    'phpdocumentor/reflection-common' => 
    array (
      'pretty_version' => '2.2.0',
      'version' => '2.2.0.0',
      'aliases' => 
      array (
      ),
      'reference' => '1d01c49d4ed62f25aa84a747ad35d5a16924662b',
    ),
    'phpdocumentor/reflection-docblock' => 
    array (
      'pretty_version' => '5.3.0',
      'version' => '5.3.0.0',
      'aliases' => 
      array (
      ),
      'reference' => '622548b623e81ca6d78b721c5e029f4ce664f170',
    ),
    'phpdocumentor/type-resolver' => 
    array (
      'pretty_version' => '1.7.1',
      'version' => '1.7.1.0',
      'aliases' => 
      array (
      ),
      'reference' => 'dfc078e8af9c99210337325ff5aa152872c98714',
    ),
    'phpstan/phpdoc-parser' => 
    array (
      'pretty_version' => '1.20.4',
      'version' => '1.20.4.0',
      'aliases' => 
      array (
      ),
      'reference' => '7d568c87a9df9c5f7e8b5f075fc469aa8cb0a4cd',
    ),
    'phpunit/php-code-coverage' => 
    array (
      'pretty_version' => '10.1.1',
      'version' => '10.1.1.0',
      'aliases' => 
      array (
      ),
      'reference' => '884a0da7f9f46f28b2cb69134217fd810b793974',
    ),
    'phpunit/php-file-iterator' => 
    array (
      'pretty_version' => '4.0.1',
      'version' => '4.0.1.0',
      'aliases' => 
      array (
      ),
      'reference' => 'fd9329ab3368f59fe1fe808a189c51086bd4b6bd',
    ),
    'phpunit/php-invoker' => 
    array (
      'pretty_version' => '4.0.0',
      'version' => '4.0.0.0',
      'aliases' => 
      array (
      ),
      'reference' => 'f5e568ba02fa5ba0ddd0f618391d5a9ea50b06d7',
    ),
    'phpunit/php-text-template' => 
    array (
      'pretty_version' => '3.0.0',
      'version' => '3.0.0.0',
      'aliases' => 
      array (
      ),
      'reference' => '9f3d3709577a527025f55bcf0f7ab8052c8bb37d',
    ),
    'phpunit/php-timer' => 
    array (
      'pretty_version' => '6.0.0',
      'version' => '6.0.0.0',
      'aliases' => 
      array (
      ),
      'reference' => 'e2a2d67966e740530f4a3343fe2e030ffdc1161d',
    ),
    'phpunit/phpunit' => 
    array (
      'pretty_version' => '10.1.2',
      'version' => '10.1.2.0',
      'aliases' => 
      array (
      ),
      'reference' => '6f0cd95be71add539f8fd2be25b2a4a29789000b',
    ),
    'psr/container' => 
    array (
      'pretty_version' => '2.0.2',
      'version' => '2.0.2.0',
      'aliases' => 
      array (
      ),
      'reference' => 'c71ecc56dfe541dbd90c5360474fbc405f8d5963',
    ),
    'psr/log' => 
    array (
      'pretty_version' => '3.0.0',
      'version' => '3.0.0.0',
      'aliases' => 
      array (
      ),
      'reference' => 'fe5ea303b0887d5caefd3d431c3e61ad47037001',
    ),
    'psr/log-implementation' => 
    array (
      'provided' => 
      array (
        0 => '1.0|2.0|3.0',
      ),
    ),
    'psr/simple-cache' => 
    array (
      'pretty_version' => '3.0.0',
      'version' => '3.0.0.0',
      'aliases' => 
      array (
      ),
      'reference' => '764e0b3939f5ca87cb904f570ef9be2d78a07865',
    ),
    'sebastian/cli-parser' => 
    array (
      'pretty_version' => '2.0.0',
      'version' => '2.0.0.0',
      'aliases' => 
      array (
      ),
      'reference' => 'efdc130dbbbb8ef0b545a994fd811725c5282cae',
    ),
    'sebastian/code-unit' => 
    array (
      'pretty_version' => '2.0.0',
      'version' => '2.0.0.0',
      'aliases' => 
      array (
      ),
      'reference' => 'a81fee9eef0b7a76af11d121767abc44c104e503',
    ),
    'sebastian/code-unit-reverse-lookup' => 
    array (
      'pretty_version' => '3.0.0',
      'version' => '3.0.0.0',
      'aliases' => 
      array (
      ),
      'reference' => '5e3a687f7d8ae33fb362c5c0743794bbb2420a1d',
    ),
    'sebastian/comparator' => 
    array (
      'pretty_version' => '5.0.0',
      'version' => '5.0.0.0',
      'aliases' => 
      array (
      ),
      'reference' => '72f01e6586e0caf6af81297897bd112eb7e9627c',
    ),
    'sebastian/complexity' => 
    array (
      'pretty_version' => '3.0.0',
      'version' => '3.0.0.0',
      'aliases' => 
      array (
      ),
      'reference' => 'e67d240970c9dc7ea7b2123a6d520e334dd61dc6',
    ),
    'sebastian/diff' => 
    array (
      'pretty_version' => '5.0.3',
      'version' => '5.0.3.0',
      'aliases' => 
      array (
      ),
      'reference' => '912dc2fbe3e3c1e7873313cc801b100b6c68c87b',
    ),
    'sebastian/environment' => 
    array (
      'pretty_version' => '6.0.1',
      'version' => '6.0.1.0',
      'aliases' => 
      array (
      ),
      'reference' => '43c751b41d74f96cbbd4e07b7aec9675651e2951',
    ),
    'sebastian/exporter' => 
    array (
      'pretty_version' => '5.0.0',
      'version' => '5.0.0.0',
      'aliases' => 
      array (
      ),
      'reference' => 'f3ec4bf931c0b31e5b413f5b4fc970a7d03338c0',
    ),
    'sebastian/global-state' => 
    array (
      'pretty_version' => '6.0.0',
      'version' => '6.0.0.0',
      'aliases' => 
      array (
      ),
      'reference' => 'aab257c712de87b90194febd52e4d184551c2d44',
    ),
    'sebastian/lines-of-code' => 
    array (
      'pretty_version' => '2.0.0',
      'version' => '2.0.0.0',
      'aliases' => 
      array (
      ),
      'reference' => '17c4d940ecafb3d15d2cf916f4108f664e28b130',
    ),
    'sebastian/object-enumerator' => 
    array (
      'pretty_version' => '5.0.0',
      'version' => '5.0.0.0',
      'aliases' => 
      array (
      ),
      'reference' => '202d0e344a580d7f7d04b3fafce6933e59dae906',
    ),
    'sebastian/object-reflector' => 
    array (
      'pretty_version' => '3.0.0',
      'version' => '3.0.0.0',
      'aliases' => 
      array (
      ),
      'reference' => '24ed13d98130f0e7122df55d06c5c4942a577957',
    ),
    'sebastian/recursion-context' => 
    array (
      'pretty_version' => '5.0.0',
      'version' => '5.0.0.0',
      'aliases' => 
      array (
      ),
      'reference' => '05909fb5bc7df4c52992396d0116aed689f93712',
    ),
    'sebastian/type' => 
    array (
      'pretty_version' => '4.0.0',
      'version' => '4.0.0.0',
      'aliases' => 
      array (
      ),
      'reference' => '462699a16464c3944eefc02ebdd77882bd3925bf',
    ),
    'sebastian/version' => 
    array (
      'pretty_version' => '4.0.1',
      'version' => '4.0.1.0',
      'aliases' => 
      array (
      ),
      'reference' => 'c51fa83a5d8f43f1402e3f32a005e6262244ef17',
    ),
    'symfony/console' => 
    array (
      'pretty_version' => 'v6.2.10',
      'version' => '6.2.10.0',
      'aliases' => 
      array (
      ),
      'reference' => '12288d9f4500f84a4d02254d4aa968b15488476f',
    ),
    'symfony/deprecation-contracts' => 
    array (
      'pretty_version' => 'v3.2.1',
      'version' => '3.2.1.0',
      'aliases' => 
      array (
      ),
      'reference' => 'e2d1534420bd723d0ef5aec58a22c5fe60ce6f5e',
    ),
    'symfony/finder' => 
    array (
      'pretty_version' => 'v6.2.7',
      'version' => '6.2.7.0',
      'aliases' => 
      array (
      ),
      'reference' => '20808dc6631aecafbe67c186af5dcb370be3a0eb',
    ),
    'symfony/polyfill-ctype' => 
    array (
      'pretty_version' => 'v1.27.0',
      'version' => '1.27.0.0',
      'aliases' => 
      array (
      ),
      'reference' => '5bbc823adecdae860bb64756d639ecfec17b050a',
    ),
    'symfony/polyfill-intl-grapheme' => 
    array (
      'pretty_version' => 'v1.27.0',
      'version' => '1.27.0.0',
      'aliases' => 
      array (
      ),
      'reference' => '511a08c03c1960e08a883f4cffcacd219b758354',
    ),
    'symfony/polyfill-intl-normalizer' => 
    array (
      'pretty_version' => 'v1.27.0',
      'version' => '1.27.0.0',
      'aliases' => 
      array (
      ),
      'reference' => '19bd1e4fcd5b91116f14d8533c57831ed00571b6',
    ),
    'symfony/polyfill-mbstring' => 
    array (
      'pretty_version' => 'v1.27.0',
      'version' => '1.27.0.0',
      'aliases' => 
      array (
      ),
      'reference' => '8ad114f6b39e2c98a8b0e3bd907732c207c2b534',
    ),
    'symfony/process' => 
    array (
      'pretty_version' => 'v6.2.10',
      'version' => '6.2.10.0',
      'aliases' => 
      array (
      ),
      'reference' => 'b34cdbc9c5e75d45a3703e63a48ad07aafa8bf2e',
    ),
    'symfony/service-contracts' => 
    array (
      'pretty_version' => 'v3.2.1',
      'version' => '3.2.1.0',
      'aliases' => 
      array (
      ),
      'reference' => 'a8c9cedf55f314f3a186041d19537303766df09a',
    ),
    'symfony/string' => 
    array (
      'pretty_version' => 'v6.2.8',
      'version' => '6.2.8.0',
      'aliases' => 
      array (
      ),
      'reference' => '193e83bbd6617d6b2151c37fff10fa7168ebddef',
    ),
    'ta-tikoma/phpunit-architecture-test' => 
    array (
      'pretty_version' => '0.7.3',
      'version' => '0.7.3.0',
      'aliases' => 
      array (
      ),
      'reference' => '90b2e1d53b2c09b6371f84476699b69b36e378fd',
    ),
    'theseer/tokenizer' => 
    array (
      'pretty_version' => '1.2.1',
      'version' => '1.2.1.0',
      'aliases' => 
      array (
      ),
      'reference' => '34a41e998c2183e22995f158c581e7b5e755ab9e',
    ),
    'webmozart/assert' => 
    array (
      'pretty_version' => '1.11.0',
      'version' => '1.11.0.0',
      'aliases' => 
      array (
      ),
      'reference' => '11cb2199493b2f8a3b53e7f19068fc6aac760991',
    ),
  ),
);
private static $canGetVendors;
private static $installedByVendor = array();







public static function getInstalledPackages()
{
$packages = array();
foreach (self::getInstalled() as $installed) {
$packages[] = array_keys($installed['versions']);
}


if (1 === \count($packages)) {
return $packages[0];
}

return array_keys(array_flip(\call_user_func_array('array_merge', $packages)));
}









public static function isInstalled($packageName)
{
foreach (self::getInstalled() as $installed) {
if (isset($installed['versions'][$packageName])) {
return true;
}
}

return false;
}














public static function satisfies(VersionParser $parser, $packageName, $constraint)
{
$constraint = $parser->parseConstraints($constraint);
$provided = $parser->parseConstraints(self::getVersionRanges($packageName));

return $provided->matches($constraint);
}










public static function getVersionRanges($packageName)
{
foreach (self::getInstalled() as $installed) {
if (!isset($installed['versions'][$packageName])) {
continue;
}

$ranges = array();
if (isset($installed['versions'][$packageName]['pretty_version'])) {
$ranges[] = $installed['versions'][$packageName]['pretty_version'];
}
if (array_key_exists('aliases', $installed['versions'][$packageName])) {
$ranges = array_merge($ranges, $installed['versions'][$packageName]['aliases']);
}
if (array_key_exists('replaced', $installed['versions'][$packageName])) {
$ranges = array_merge($ranges, $installed['versions'][$packageName]['replaced']);
}
if (array_key_exists('provided', $installed['versions'][$packageName])) {
$ranges = array_merge($ranges, $installed['versions'][$packageName]['provided']);
}

return implode(' || ', $ranges);
}

throw new \OutOfBoundsException('Package "' . $packageName . '" is not installed');
}





public static function getVersion($packageName)
{
foreach (self::getInstalled() as $installed) {
if (!isset($installed['versions'][$packageName])) {
continue;
}

if (!isset($installed['versions'][$packageName]['version'])) {
return null;
}

return $installed['versions'][$packageName]['version'];
}

throw new \OutOfBoundsException('Package "' . $packageName . '" is not installed');
}





public static function getPrettyVersion($packageName)
{
foreach (self::getInstalled() as $installed) {
if (!isset($installed['versions'][$packageName])) {
continue;
}

if (!isset($installed['versions'][$packageName]['pretty_version'])) {
return null;
}

return $installed['versions'][$packageName]['pretty_version'];
}

throw new \OutOfBoundsException('Package "' . $packageName . '" is not installed');
}





public static function getReference($packageName)
{
foreach (self::getInstalled() as $installed) {
if (!isset($installed['versions'][$packageName])) {
continue;
}

if (!isset($installed['versions'][$packageName]['reference'])) {
return null;
}

return $installed['versions'][$packageName]['reference'];
}

throw new \OutOfBoundsException('Package "' . $packageName . '" is not installed');
}





public static function getRootPackage()
{
$installed = self::getInstalled();

return $installed[0]['root'];
}







public static function getRawData()
{
return self::$installed;
}



















public static function reload($data)
{
self::$installed = $data;
self::$installedByVendor = array();
}




private static function getInstalled()
{
if (null === self::$canGetVendors) {
self::$canGetVendors = method_exists('Composer\Autoload\ClassLoader', 'getRegisteredLoaders');
}

$installed = array();

if (self::$canGetVendors) {

foreach (ClassLoader::getRegisteredLoaders() as $vendorDir => $loader) {
if (isset(self::$installedByVendor[$vendorDir])) {
$installed[] = self::$installedByVendor[$vendorDir];
} elseif (is_file($vendorDir.'/composer/installed.php')) {
$installed[] = self::$installedByVendor[$vendorDir] = require $vendorDir.'/composer/installed.php';
}
}
}

$installed[] = self::$installed;

return $installed;
}
}
